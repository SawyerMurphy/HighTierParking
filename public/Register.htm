<!DOCTYPE html>
<html lang="en">

  <head>
    <title>High Tier Parking</title>
    <link href = "Register.css" rel = "stylesheet" type = "text/css">
  </head>
  <body>

    <div class="backBtn">
      <button type="button" id="backBtn" onclick="location.href='Login.htm'">Back</button>
    </div>
    <div class="logoTitleOne">
      <p>High Tier</p>
    </div>
    <div class="logoTitleTwo">
      <p>Parking</p>
    </div>
    <h1 class="registerTitle">Register</h1>
    <br> <br>
    <form name="reg" id="reg">
      <div class="registerFirstName">
        <input type="text" id="regFirstNameInput" placeholder="First Name" required>
      </div> <br>
      <div class="registerLastName">
        <input type="text" id="regLastNameInput" placeholder="Last Name" required>
      </div> <br>
      <div class="registerEmailAddress">
        <input type="email" id="regEmailAddInput" placeholder="Email Address" required>
      </div> <br>
      <div class="registerPassword">
        <input type="password" id="regPasswordInput" placeholder="Password" required>
      </div> <br>
      <div class="registerConfirmPassword">
        <input type="password" id="regConfirmPasswordInput" placeholder="Confirm Password" required>
      </div> <br> <br>
      <div class="registerBtn">
        <button type="submit">Register</button>
      </div> <br>
    </form>
  
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
    src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js";
    src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
    const firebaseConfig = {
      apiKey: "AIzaSyCIp4TEX0_gEB1bliF3RYdpBwXPBl7GBnY",
      authDomain: "hightierparking2.firebaseapp.com",
      databaseURL: "https://hightierparking2-default-rtdb.firebaseio.com",
      projectId: "hightierparking2",
      storageBucket: "hightierparking2.appspot.com",
      messagingSenderId: "302319328733",
      appId: "1:302319328733:web:427140dc9c7a50fa77ea34",
      measurementId: "G-DKKY5VYY73"
    };

    firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var database =firebase.database();
    document.getElementById("reg").addEventListener("submit",submitform);
    function submitform(e) {
      e.preventDefault();
      

      //get values
      var firstName = getInputVal('regFirstNameInput');
      var lastName = getInputVal('regLastNameInput');
      var email = getInputVal('regEmailAddInput');
      var pswd = getInputVal('regPasswordInput');
      
      //saveAccount(firstName, lastName, email, pswd);
      firebase.auth().createUserWithEmailAndPassword(email, pswd)
      .then((userCredential) => {
    // Signed in 
      var user = userCredential.user;
    // ...
    })
    .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
    // ..
    });
    /*
      db.collection("user").add({
        FirstName: firstName,
        LastName: lastName,
        Email: email,
        Password: pswd
      })
      .then((docRef) => {
        console.log("Document written with ID: ", docRef.id);
      })
      .catch((error) => {
        console.error("Error adding document: ", error);
      });
    }
    */
    function getInputVal(id){
      return document.getElementById(id).value;
    }

  }

  </script>

  <!--<script src="main.js"></script>-->
  </body>
</html>
<script>
  function validateForm() {
    var x = document.forms["reg"]["email"].value;
    if (x == "") {
      alert("Email must be filled out");
      return false;
    }
  }
</script>
